<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Darknet V.15 - Boss Edition</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Share+Tech+Mono&display=swap');
        :root { --cyan: #00f3ff; --green: #00ff6a; --red: #ff2f2f; --purple: #bc13fe; --bg: #050b12; --card: #0b1622; }
        * { margin:0; padding:0; box-sizing:border-box; font-family:'Share Tech Mono', monospace; }
        body { background: var(--bg); color: white; height: 100vh; overflow: hidden; }
        .wrapper { max-width: 480px; margin: 0 auto; height: 100%; display: flex; flex-direction: column; padding: 10px; border-left: 1px solid #111; border-right: 1px solid #111; }
        .header { text-align: center; border-bottom: 1px solid #222; padding: 10px; margin-bottom: 10px; }
        .logo { font-family: 'Orbitron'; font-size: 1.1rem; color: var(--cyan); text-shadow: 0 0 10px var(--cyan); }
        .status-pill { display: inline-block; padding: 3px 10px; border-radius: 20px; background: rgba(0, 255, 106, 0.1); color: var(--green); font-size: 0.6rem; margin-top: 5px; border: 1px solid var(--green); }
        .scroll { flex: 1; overflow-y: auto; padding-bottom: 80px; }
        
        /* BOSS UI STYLE */
        .boss-card { background: var(--card); border: 1px solid rgba(0,243,255,0.2); border-radius: 12px; padding: 15px; margin-bottom: 15px; position: relative; }
        .period-tag { font-family: 'Orbitron'; color: var(--purple); font-size: 0.9rem; margin-bottom: 10px; display: block; border-bottom: 1px solid #222; padding-bottom: 5px; }
        .target-line { font-family: 'Orbitron'; font-size: 1rem; color: var(--cyan); margin-bottom: 8px; }
        .strategy-line { font-size: 0.8rem; color: var(--purple); margin-bottom: 5px; font-weight: bold; }
        .logic-line { font-size: 0.7rem; color: #777; font-style: italic; }
        .waiting { color: #fff; animation: blink 1s infinite; }
        @keyframes blink { 0% { opacity: 1; } 50% { opacity: 0.4; } 100% { opacity: 1; } }

        /* RESULT BANNER */
        .res-banner { margin-top: 10px; padding: 8px; border-radius: 6px; text-align: center; font-weight: bold; font-size: 0.8rem; }
        .win-bg { background: rgba(0, 255, 106, 0.1); color: var(--green); border: 1px solid var(--green); }
        .loss-bg { background: rgba(255, 47, 47, 0.1); color: var(--red); border: 1px solid var(--red); }

        /* BOTTOM NAV */
        .nav { position: fixed; bottom: 0; width: 100%; max-width: 480px; height: 65px; background: #000; border-top: 1px solid #222; display: flex; justify-content: space-around; align-items: center; }
        .nav-btn { flex:1; text-align: center; color: #444; font-size: 0.6rem; cursor: pointer; }
        .nav-btn.active { color: var(--cyan); }
    </style>
</head>
<body>

<div class="wrapper">
    <div class="header">
        <div class="logo">üî± AHMAD BOSS V67.0 üî±</div>
        <div class="status-pill">MASTER LOGIC ACTIVE</div>
    </div>

    <div class="scroll">
        <div id="live-prediction">
            <div class="boss-card">
                <span class="period-tag" id="next-period">üó° PERIOD ‚Üí SYNCING...</span>
                <div class="target-line" id="target">üéØ TARGET ‚ûî ...</div>
                <div class="strategy-line" id="strategy">üß† STRATEGY‚Üí ...</div>
                <div class="logic-line" id="logic">üìù LOGIC ‚Üí WAITING FOR DATA...</div>
                <div class="res-banner waiting" id="res-status">‚è≥ WAITING FOR DRAW...</div>
            </div>
        </div>

        <div style="border-top:1px solid #222; margin:15px 0; padding-top:10px; color:#555; font-size:0.6rem; text-align:center;">HISTORY ARCHIVE</div>
        
        <div id="archive-list"></div>
    </div>

    <div class="nav">
        <div class="nav-btn active"><span>‚öõ</span><br>TERMINAL</div>
        <div class="nav-btn" onclick="location.reload()"><span>üîÑ</span><br>SYNC</div>
        <div class="nav-btn" onclick="alert('Target: 10,000')"><span>üí∞</span><br>PROFIT</div>
    </div>
</div>

<script>
    const API_URL = "https://draw.ar-lottery01.com/WinGo/WinGo_1M/GetHistoryIssuePage.json?ts=";
    const BOSS_MAP = { 0: [5, 2], 1: [6, 3], 2: [7, 4], 3: [8, 0], 4: [9, 1], 5: [0, 7], 6: [1, 8], 7: [2, 9], 8: [3, 5], 9: [4, 6] };
    
    let currentLevel = 1;
    let lastProcessedPeriod = "";
    let currentPrediction = null;

    async function fetchData() {
        try {
            const r = await fetch(API_URL + Date.now());
            const data = await r.json();
            if(data.code === 0) {
                const history = data.data.list;
                const latest = history[0];
                
                // If a new period has arrived, process the result of the previous one
                if(latest.issueNumber !== lastProcessedPeriod) {
                    if(currentPrediction && lastProcessedPeriod !== "") {
                        checkResult(latest);
                    }
                    lastProcessedPeriod = latest.issueNumber;
                    generatePrediction(history);
                }
            }
        } catch(e) { console.error("API Error"); }
    }

    function generatePrediction(history) {
        const nums = history.map(x => parseInt(x.number));
        const lastNum = nums[0];
        const lastBS = lastNum >= 5 ? "BIG" : "SMALL";
        
        // Dragon Logic
        let trendCount = 0;
        for(let x of nums) {
            let bs = x >= 5 ? "BIG" : "SMALL";
            if(bs === lastBS) trendCount++; else break;
        }
        const isDragon = trendCount >= 3;

        let pred, n1, n2, strat, reason;

        // --- LEVEL 1: BOSS STRIKE ---
        if(currentLevel === 1) {
            strat = "BOSS STRIKE üéØ";
            [n1, n2] = BOSS_MAP[lastNum];
            pred = n1 >= 5 ? "BIG" : "SMALL";
            reason = "Mirror Precision Target";
        } 
        // --- LEVEL 2: UNIVERSAL LOGIC ---
        else {
            if(lastNum === 0) {
                strat = "PURPLE MAGNET (0) üü£"; pred = "SMALL"; [n1, n2] = [2, 0];
                reason = "0 detected. Magnetizing Small.";
            } else if(lastNum === 5) {
                strat = "KILLER CUT (5) ‚úÇÔ∏è"; pred = "SMALL"; [n1, n2] = [2, 4];
                reason = "5 detected. Cutting to Small.";
            } else if(lastNum === 1) {
                strat = "STICKY HOLD (1) üß≤"; pred = "SMALL"; [n1, n2] = [6, 0];
                reason = "Sticky 1 detected. Holding Small.";
            } else if(lastNum === 3) {
                strat = "SHADOW HOLD (3) üåë"; pred = "SMALL"; [n1, n2] = [0, 2];
                reason = "Shadow 3 detected. Holding Small.";
            } else if(lastNum === 6 || lastNum === 9) {
                strat = `SHADOW HOLD (${lastNum}) üåë`; pred = "BIG";
                [n1, n2] = lastNum === 6 ? [7, 5] : [5, 8];
                reason = `Shadow ${lastNum} detected. Holding Big.`;
            } else if(isDragon) {
                strat = "DRAGON RIDER üêâ"; pred = lastBS;
                [n1, n2] = pred === "BIG" ? [6, 8] : [1, 3];
                reason = `Dragon (${trendCount}) detected. Riding.`;
            } else {
                strat = "CONNECTOR FLIP ‚ö°";
                if(lastNum >= 5) { pred = "SMALL"; [n1, n2] = [1, 3]; }
                else { pred = "BIG"; [n1, n2] = [6, 8]; }
                reason = "Standard Market Flip.";
            }
        }

        currentPrediction = { period: parseInt(lastProcessedPeriod) + 1, pred, n1, n2, strat, reason };
        updateUI();
    }

    function updateUI() {
        const cp = currentPrediction;
        document.getElementById('next-period').innerText = `üó° PERIOD ‚Üí ${cp.period}`;
        document.getElementById('target').innerText = `üéØ TARGET ‚ûî ${cp.n1}, ${cp.n2} ‚ûî ${cp.pred}`;
        document.getElementById('strategy').innerText = `üß† STRATEGY‚Üí ${cp.strat}`;
        document.getElementById('logic').innerText = `üìù LOGIC ‚Üí ${cp.reason}`;
        document.getElementById('res-status').innerText = "‚è≥ WAITING FOR DRAW...";
        document.getElementById('res-status').className = "res-banner waiting";
    }

    function checkResult(latest) {
        const num = parseInt(latest.number);
        const actualBS = num >= 5 ? "BIG" : "SMALL";
        const isWin = actualBS === currentPrediction.pred;
        const isJackpot = num === currentPrediction.n1 || num === currentPrediction.n2;

        const archive = document.getElementById('archive-list');
        const card = document.createElement('div');
        card.className = "boss-card";
        
        let statusClass = (isWin || isJackpot) ? "win-bg" : "loss-bg";
        let statusText = isJackpot ? "üî• JACKPOT HIT!" : (isWin ? "‚úÖ WIN MATCH" : "‚ùå LOSS MISMATCH");
        
        if(isWin || isJackpot) currentLevel = 1; else currentLevel++;

        card.innerHTML = `
            <span class="period-tag">üó° PERIOD ‚Üí ${latest.issueNumber}</span>
            <div class="target-line" style="font-size:0.8rem">üéØ PRED: ${currentPrediction.pred} | ACT: ${num}</div>
            <div class="res-banner ${statusClass}">${statusText}</div>
        `;
        archive.prepend(card);
        if(archive.children.length > 10) archive.lastElementChild.remove();
    }

    setInterval(fetchData, 4000);
    fetchData();
</script>
</body>
</html>
