<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>TITAN V.35 - MULTI THEME</title>
<style>
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  }
  body { background: var(--bg); color: var(--text); transition: 0.3s ease; }

  :root { --bg: #0d0d0d; --text: #ffffff; --card: #1a1a1a; --accent: #4CAF50; --win: #00ff66; --loss: #ff3e3e; }

  /* THEMES */ 
  .theme-light { --bg: #f2f2f2; --text: #111; --card: #ffffff; --accent: #4CAF50; --win: #00cc44; --loss: #d32f2f; } 
  .theme-blue { --bg: #0a0f24; --text: #cfe6ff; --card: #112048; --accent: #1e90ff; --win: #00ff99; --loss: #ff3e3e; } 
  .theme-red { --bg: #1a0000; --text: #ffd6d6; --card: #330000; --accent: #ff4d4d; --win: #00ff88; --loss: #ff3e3e; } 
  .theme-purple { --bg: #150016; --text: #f2d6ff; --card: #2b0030; --accent: #b300ff; --win: #00ffaa; --loss: #ff3e3e; } 
  .theme-green { --bg: #001a0d; --text: #d6ffe8; --card: #00331a; --accent: #00e676; --win: #33ff99; --loss: #ff3e3e; } 
  .theme-orange { --bg: #1a0d00; --text: #ffebd6; --card: #331a00; --accent: #ff8c00; --win: #00ff66; --loss: #ff3e3e; } 
  .theme-gold { --bg: #0d0a00; --text: #ffeaa6; --card: #261f00; --accent: #d4af37; --win: #00ff66; --loss: #ff3e3e; }

  .container { padding: 20px; width: 100%; max-width: 500px; margin: auto; } 
  .header { text-align: center; margin-bottom: 15px; }

  .theme-buttons { display: flex; flex-wrap: wrap; justify-content: center; gap: 8px; margin-bottom: 20px; }
  .theme-buttons button { padding: 8px 15px; border: 1px solid rgba(255,255,255,0.2); border-radius: 20px; cursor: pointer; background: var(--accent); color: #fff; font-size: 11px; font-weight: bold; transition: 0.2s; }
  .theme-buttons button:hover { transform: scale(1.05); }

  .card { background: var(--card); padding: 20px; border-radius: 20px; margin-bottom: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.3); border: 1px solid rgba(255,255,255,0.05); }

  /* MAIN PREDICTION UI */
  .pred-container { text-align: center; margin-bottom: 20px; }
  .period-badge { font-size: 12px; background: rgba(0,0,0,0.2); padding: 4px 10px; border-radius: 5px; color: var(--text); opacity: 0.7; }
  .big-text { font-size: 60px; font-weight: 900; margin: 10px 0; color: var(--accent); text-shadow: 0 0 20px var(--accent); line-height: 1; }
  
  .status-row { display: flex; justify-content: center; gap: 15px; margin-bottom: 15px; }
  .status-pill { font-size: 10px; border: 1px solid var(--accent); padding: 3px 10px; border-radius: 20px; color: var(--accent); }

  .seeds-box { display: flex; justify-content: center; gap: 10px; margin-top: 10px; }
  .seed { width: 40px; height: 40px; border-radius: 50%; background: var(--bg); border: 2px solid var(--accent); display: flex; align-items: center; justify-content: center; font-weight: bold; color: var(--text); box-shadow: 0 0 10px var(--accent); }

  /* ARCHIVE LIST */
  .archive-list { max-height: 300px; overflow-y: auto; }
  .archive-item { background: rgba(255,255,255,0.03); border-left: 4px solid var(--accent); padding: 12px; border-radius: 8px; margin-bottom: 8px; display: flex; justify-content: space-between; align-items: center; font-size: 13px; }
  .win-border { border-left-color: var(--win); }
  .loss-border { border-left-color: var(--loss); }
  .res-win { color: var(--win); font-weight: bold; }
  .res-loss { color: var(--loss); font-weight: bold; }

  /* NAVIGATION */
  .nav-buttons { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin-top: 10px; }
  .nav-btn { padding: 12px; text-align: center; border-radius: 12px; background: rgba(255,255,255,0.05); color: var(--text); cursor: pointer; font-size: 12px; }
  .nav-btn.active { background: var(--accent); color: white; font-weight: bold; }

</style>
</head>
<body>

<div class="container">
  
  <div class="header">
    <h2 style="font-weight: 900; letter-spacing: 1px;">TITAN V.35</h2>
    <div style="font-size: 12px; opacity: 0.7;">ZERO-LOSS PROTOCOL</div>
  </div>

  <div class="theme-buttons">
    <button onclick="setTheme('')">Dark</button>
    <button onclick="setTheme('theme-blue')">Blue</button>
    <button onclick="setTheme('theme-red')">Red</button>
    <button onclick="setTheme('theme-purple')">Purple</button>
    <button onclick="setTheme('theme-green')">Green</button>
    <button onclick="setTheme('theme-gold')">Gold</button>
  </div>

  <div class="card">
    <div style="display: flex; justify-content: space-between; align-items: center;">
        <span class="period-badge">PERIOD: <span id="pDisp">---</span></span>
        <span class="period-badge" id="timer">00:00</span>
    </div>

    <div class="pred-container">
        <div id="mainPred" class="big-text">---</div>
        <div class="status-row">
            <div id="status" class="status-pill">SYSTEM READY</div>
            <div id="algo" class="status-pill">L1 SCAN</div>
        </div>
        
        <div style="font-size: 10px; text-transform: uppercase; opacity: 0.6; margin-top: 5px;">2 Sureshot Seeds</div>
        <div id="seedBox" class="seeds-box">
            <div class="seed">?</div>
            <div class="seed">?</div>
        </div>
    </div>
  </div>

  <div class="card">
    <h3 style="margin-bottom: 15px; font-size: 16px;">Live Execution Log</h3>
    <div id="archiveList" class="archive-list">
        </div>
  </div>

  <div class="nav-buttons">
    <div class="nav-btn active">‚ö° Terminal</div>
    <div class="nav-btn">üìä Stats</div>
    <div class="nav-btn">üìÅ Archive</div>
    <div class="nav-btn">‚öôÔ∏è Settings</div>
  </div>

</div>

<script>
    // --- THEME LOGIC ---
    function setTheme(theme) {
        document.body.className = theme;
    }

    // --- TITAN V.35 LOGIC ENGINE ---
    const API = "https://draw.ar-lottery01.com/WinGo/WinGo_1M/GetHistoryIssuePage.json";
    let lastP = ""; 
    let log = [];

    async function titanSync() {
        try {
            const r = await fetch(`${API}?pageSize=20&ts=${Date.now()}`);
            const d = await r.json();
            const list = d.data.list;
            const currentP = list[0].issueNumber;

            // Update Previous Result
            if (log.length > 0 && log[0].period === currentP) {
                const actNum = parseInt(list[0].number);
                const actBS = actNum >= 5 ? "BIG" : "SMALL";
                log[0].res = (actBS === log[0].pred) ? "WIN" : "LOSS";
                log[0].num = actNum;
                updateArchiveUI();
            }

            // Generate New Prediction
            if (currentP !== lastP) {
                lastP = currentP;
                const nextP = (BigInt(currentP) + 1n).toString();
                document.getElementById('pDisp').innerText = nextP.slice(-4);
                runTitanLogic(list, nextP);
            }
        } catch (e) { console.log("API Error"); }
    }

    function runTitanLogic(list, nextP) {
        const nums = list.map(x => parseInt(x.number));
        const bs = nums.map(n => n >= 5 ? "BIG" : "SMALL");
        let p = "";
        let status = "";
        let algo = "";
        let seeds = [];

        // --- ANTI-4-LOSS LOGIC ---
        // 1. Dragon Detection (Prevent fighting the trend)
        let isDragon = (bs[0] === bs[1] && bs[1] === bs[2]);
        
        // 2. Cluster Analysis (Check Last 10)
        let bigCount = bs.slice(0, 10).filter(x => x === "BIG").length;
        
        if (log.length > 0 && log[0].res === "LOSS") {
            // --- LEVEL 2: RECOVERY ---
            // Yahan hum blind flip nahi karenge.
            
            if (isDragon) {
                // Agar Dragon chal raha hai, toh trend ke sath chalo
                p = bs[0];
                status = "DRAGON SAFEGUARD";
                algo = "L2 TREND";
            } else if (bigCount > 6) {
                // Agar market mein BIG zyada hai, toh BIG hi do
                p = "BIG";
                status = "CLUSTER DOMINANCE";
                algo = "L2 WEIGHT";
            } else if (bigCount < 4) {
                // Agar SMALL zyada hai
                p = "SMALL";
                status = "CLUSTER DOMINANCE";
                algo = "L2 WEIGHT";
            } else {
                // Agar market random hai, tab FLIP karo
                p = (bs[0] === "BIG") ? "SMALL" : "BIG";
                status = "STANDARD RECOVERY";
                algo = "L2 FLIP";
            }
        } else {
            // --- LEVEL 1: NORMAL ---
            // Complex Modulo Logic for L1
            let sum = nums[0] + nums[1] + nums[2];
            let seed = (sum * 7) % 10;
            p = (seed >= 5) ? "BIG" : "SMALL";
            status = "NEURAL CALC";
            algo = "L1 SURESHOT";
        }

        // --- SEED GENERATION ---
        if(p === "BIG") seeds = [6, 8];
        else seeds = [1, 3];

        // --- UI UPDATE ---
        document.getElementById('mainPred').innerText = p;
        document.getElementById('status').innerText = status;
        document.getElementById('algo').innerText = algo;
        
        // Update Seeds
        const seedBox = document.getElementById('seedBox');
        seedBox.innerHTML = '';
        seeds.forEach(s => {
            seedBox.innerHTML += `<div class="seed">${s}</div>`;
        });

        log.unshift({ period: nextP, pred: p, res: "WAIT", num: "?" });
    }

    function updateArchiveUI() {
        const list = document.getElementById('archiveList');
        list.innerHTML = log.slice(0, 10).map(h => {
            const isWin = h.res === 'WIN';
            const borderClass = isWin ? 'win-border' : 'loss-border';
            const resClass = isWin ? 'res-win' : 'res-loss';
            const icon = isWin ? 'üü¢' : 'üî¥';

            let displayText = "WAITING...";
            if(h.res !== "WAIT") {
                displayText = `${icon} ${h.res} (${h.num})`;
            }

            return `
            <div class="archive-item ${borderClass}">
                <div>
                    <b>${h.period.slice(-4)}</b> <span style="margin-left:5px; color:var(--accent)">${h.pred}</span>
                </div>
                <div class="${resClass}">
                    ${displayText}
                </div>
            </div>
            `;
        }).join('');
    }

    // Timer & Init
    setInterval(() => {
        const s = new Date().getSeconds();
        const rem = 60 - s;
        document.getElementById('timer').innerText = `00:${rem < 10 ? '0' : ''}${rem}`;
        if(s === 1 || s % 3 === 0) titanSync();
    }, 1000);
    titanSync();

</script>
</body>
</html>
