<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>DARKNET OMNI-GOD</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Segoe+UI:wght@400;600;700;800&display=swap" rel="stylesheet">

<style>
:root{
  --green:#00c853;
  --red:#d50000;
  --violet:#aa00ff;
  --bg:#000000;
  --card:#111;
  --glow-green:0 0 20px rgba(0,200,83,0.6);
  --glow-red:0 0 20px rgba(213,0,0,0.6);
  font-family: 'Segoe UI', sans-serif;
}

*{margin:0;padding:0;box-sizing:border-box;}
body{
  background:var(--bg);
  color:#fff;
  padding-bottom: 90px;
}

/* HEADER */
header{
  padding:15px;
  text-align:center;
  border-bottom:2px solid #222;
  font-weight:900;
  letter-spacing:1px;
  background:#050505;
  color: #fff;
  font-size: 18px;
}

/* MAIN DASHBOARD */
.dashboard {
    margin: 15px;
    padding: 20px;
    background: linear-gradient(160deg, #1a1a1a, #000);
    border: 1px solid #333;
    border-radius: 20px;
    text-align: center;
    position: relative;
    box-shadow: 0 0 30px rgba(255,255,255,0.05);
}

.sec-box{
  position:absolute; top:15px; right:15px;
  background: #333; padding:2px 8px; border-radius:6px; font-weight:bold; font-size:12px;
}

.target-box {
    font-size: 12px; color: #888; margin-bottom: 20px; letter-spacing: 1px;
}

/* DUAL PREDICTION BOXES */
.pred-row {
    display: flex;
    justify-content: center;
    gap: 15px;
    margin-bottom: 20px;
}

.p-box {
    flex: 1;
    background: #080808;
    border: 2px solid #333;
    border-radius: 12px;
    padding: 15px 5px;
    transition: 0.3s;
}

.p-label { font-size: 10px; color: #666; font-weight: bold; letter-spacing: 1px; margin-bottom: 5px; }
.p-val { font-size: 24px; font-weight: 900; text-transform: uppercase; }

/* DYNAMIC COLORS */
.p-box.GREEN { border-color: var(--green); box-shadow: var(--glow-green); }
.p-box.RED { border-color: var(--red); box-shadow: var(--glow-red); }
.p-box.VIOLET { border-color: var(--violet); box-shadow: 0 0 15px var(--violet); }

.txt-green { color: var(--green); }
.txt-red { color: var(--red); }
.txt-violet { color: var(--violet); }

/* JACKPOT STRIP */
.jackpot-strip {
    background: rgba(255,255,255,0.05);
    padding: 10px;
    border-radius: 50px;
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 15px;
}
.ball {
    width: 30px; height: 30px; line-height: 30px;
    background: #fff; color: #000; border-radius: 50%;
    font-weight: bold; font-size: 16px;
}

/* HISTORY */
.card{
  margin:8px 15px;
  padding:12px;
  background:var(--card);
  border-left:4px solid #333;
  border-radius:8px;
  display: flex; justify-content: space-between; align-items: center;
  animation: slideIn 0.3s ease;
}
.card.win { border-left-color: var(--green); background: linear-gradient(90deg, rgba(0,200,83,0.1), transparent); }
.card.loss { border-left-color: var(--red); background: linear-gradient(90deg, rgba(213,0,0,0.1), transparent); }

.win-badge { background: var(--green); color: #000; padding: 2px 6px; border-radius: 4px; font-size: 10px; font-weight: bold; }
.loss-badge { background: var(--red); color: #fff; padding: 2px 6px; border-radius: 4px; font-size: 10px; font-weight: bold; }

/* NAV */
nav{
  position:fixed; bottom:0; width:100%;
  background:#050505; border-top:1px solid #333;
  padding:15px 0; display:flex; justify-content:space-around; z-index:100;
}
nav i{ font-size:22px; color:#555; transition:0.3s; }
nav .active{ color:#fff; transform:translateY(-5px); text-shadow:0 0 10px #fff; }

@keyframes slideIn { from{transform:translateY(10px);opacity:0} to{transform:translateY(0);opacity:1} }

</style>
</head>
<body>

<header>DARKNET OMNI-GOD</header>

<div class="dashboard">
    <div class="sec-box"><span id="timer">00</span>s</div>
    <div class="target-box">PERIOD: <b id="target" style="color:#fff; font-size:16px;">----</b></div>

    <div class="pred-row">
        <div class="p-box" id="box-size">
            <div class="p-label">SIZE POSITION</div>
            <div class="p-val" id="pred-size">...</div>
        </div>
        
        <div class="p-box" id="box-color">
            <div class="p-label">COLOR SCOPE</div>
            <div class="p-val" id="pred-color">...</div>
        </div>
    </div>

    <div class="jackpot-strip">
        <span style="font-size:10px; color:#aaa;">SEEDS</span>
        <div class="ball" id="n1">-</div>
        <div class="ball" id="n2">-</div>
    </div>
</div>

<div style="margin:0 15px; display:flex; justify-content:space-between; color:#888; font-size:12px;">
    <span>WIN: <b id="w-stat" style="color:var(--green)">0</b></span>
    <span>LOSS: <b id="l-stat" style="color:var(--red)">0</b></span>
</div>

<div id="cards-area"></div>

<nav>
    <i class="fa-solid fa-gamepad active"></i>
    <i class="fa-solid fa-rotate" onclick="window.location.reload()"></i>
    <i class="fa-solid fa-trash" onclick="clearData()"></i>
    <i class="fa-solid fa-chart-simple"></i>
</nav>

<script>
    const firebaseConfig = {
        apiKey: "AIzaSyA8qJ3qJl5fzbOBKopx99zsACkEGofbfyY",
        authDomain: "admin-91a73.firebaseapp.com",
        databaseURL: "https://admin-91a73-default-rtdb.firebaseio.com",
        projectId: "admin-91a73",
        storageBucket: "admin-91a73.firebasestorage.app",
        messagingSenderId: "153529788738",
        appId: "1:153529788738:web:65363636579881912940db",
        measurementId: "G-N4T0HV7ER1"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    // --- DATA STORE ---
    let history = JSON.parse(localStorage.getItem('god_hist')) || [];
    let stats = JSON.parse(localStorage.getItem('god_stats')) || { w:0, l:0 };
    let lastIssue = null;
    let currentPred = { size: "WAIT", color: "WAIT", n: ["-","-"] };

    function saveData() {
        localStorage.setItem('god_hist', JSON.stringify(history));
        localStorage.setItem('god_stats', JSON.stringify(stats));
    }

    async function sync(data) {
        try {
            const ref = db.ref('rounds/'+data.issue);
            const snap = await ref.once('value');
            if(!snap.exists()) ref.set(data);
        } catch(e){}
    }

    // --- OMNI-GOD ENGINE (COLOR + SIZE + FIXER) ---
    function getGodPrediction(list, lastWin) {
        const recent = list.slice(0, 10);
        const lastNum = parseInt(recent[0].number);
        const lastSize = lastNum >= 5 ? 'BIG' : 'SMALL';
        
        // STANDARD COLOR LOGIC
        // 1,3,5,7,9 = Green | 0,2,4,6,8 = Red
        // Special: 0 (Red+Vio), 5 (Green+Vio)
        let lastColor = 'RED';
        if ([1,3,7,9].includes(lastNum)) lastColor = 'GREEN';
        else if ([5].includes(lastNum)) lastColor = 'GREEN'; // treat 5 as green base
        
        // VIOLET RISK CHECK
        let isVioletRisk = (lastNum === 0 || lastNum === 5);

        let pSize = "";
        let pColor = "";

        // ** LEVEL 2 FIXER LOGIC **
        // Agar pichla round WIN tha -> TREND FOLLOW (Jo aya wahi lagao)
        // Agar pichla round LOSS tha -> PATTERN CUT (Jo aya uska ULTA lagao)
        
        if (lastWin) {
            // WINNING STREAK MODE
            pSize = lastSize; 
            pColor = lastColor;
        } else {
            // RECOVERY MODE (Cut the pattern)
            pSize = (lastSize === 'BIG') ? 'SMALL' : 'BIG';
            pColor = (lastColor === 'RED') ? 'GREEN' : 'RED';
        }

        // Jackpot Seeds (Mirror + Gap)
        let n1 = (lastNum + 4) % 10;
        let n2 = (lastNum + 6) % 10;

        return { size: pSize, color: pColor, n: [n1, n2], vio: isVioletRisk };
    }

    // --- MAIN LOOP ---
    async function engine() {
        try {
            const res = await fetch("https://draw.ar-lottery01.com/WinGo/WinGo_1M/GetHistoryIssuePage.json?pageSize=20&ts="+Date.now());
            const json = await res.json();
            const list = json.data.list;
            const latest = list[0];
            const issue = latest.issueNumber;
            const num = parseInt(latest.number);
            const size = num >= 5 ? 'BIG' : 'SMALL';
            
            let colorReal = 'RED';
            if([1,3,7,9].includes(num)) colorReal = 'GREEN';
            if(num === 5) colorReal = 'GREEN'; // Simplify for check
            if(num === 0) colorReal = 'RED';

            // 1. CHECK RESULT
            if (history.length > 0 && history[0].status === 'pending' && history[0].issue === issue) {
                // Win Condition: Either Size matches OR Color matches
                // We prioritize Size for Win Status in history
                const winSize = (history[0].size === size);
                const winColor = (history[0].color === colorReal);
                
                // If Size wins, we count it as win (Safer)
                if(winSize) {
                    history[0].status = 'win';
                    stats.w++;
                } else {
                    history[0].status = 'loss';
                    stats.l++;
                }
                history[0].result = `${num} ${size.charAt(0)}`;
                saveData();
                render();
            }

            // 2. PREDICT
            if (lastIssue !== issue) {
                lastIssue = issue;
                const nextIssue = (BigInt(issue)+1n).toString();
                let prevWin = history.length > 0 ? (history[0].status === 'win') : true;

                const logic = getGodPrediction(list, prevWin);
                currentPred = logic;

                history.unshift({
                    issue: nextIssue,
                    size: logic.size,
                    color: logic.color,
                    n: logic.n,
                    status: 'pending',
                    result: '?'
                });

                if(history.length>25) history.pop();
                
                sync({issue:issue, num:num, size:size, color:colorReal, time:Date.now()});
                saveData();
                render();
            }

        } catch(e){}
    }

    // --- RENDER ---
    function render() {
        document.getElementById('target').innerText = (BigInt(lastIssue||0)+1n).toString().slice(-4);
        document.getElementById('w-stat').innerText = stats.w;
        document.getElementById('l-stat').innerText = stats.l;

        // Display
        const boxSize = document.getElementById('box-size');
        const boxColor = document.getElementById('box-color');
        
        document.getElementById('pred-size').innerText = currentPred.size;
        document.getElementById('pred-color').innerText = currentPred.color;
        document.getElementById('n1').innerText = currentPred.n[0];
        document.getElementById('n2').innerText = currentPred.n[1];

        // Styling
        boxSize.className = 'p-box'; // reset
        if(currentPred.size === 'BIG') {
            boxSize.style.borderColor = "#f1c40f"; // Gold
            boxSize.style.color = "#f1c40f";
        } else if (currentPred.size === 'SMALL') {
            boxSize.style.borderColor = "#3498db"; // Blue
            boxSize.style.color = "#3498db";
        }

        boxColor.className = 'p-box ' + currentPred.color; // Add RED/GREEN class
        
        // Cards
        const area = document.getElementById('cards-area');
        area.innerHTML = history.map(h => {
            if(h.status === 'pending') return '';
            const isWin = h.status === 'win';
            const badge = isWin ? '<span class="win-badge">WIN</span>' : '<span class="loss-badge">LOSS</span>';
            const clr = isWin ? 'var(--green)' : 'var(--red)';
            
            return `
            <div class="card ${h.status}">
                <div>
                    <div style="font-size:10px; color:#666;">#${h.issue.slice(-4)}</div>
                    <div style="font-size:18px; font-weight:900; color:#fff;">
                        ${h.size} <span style="font-size:14px; color:${h.color==='RED'?'var(--red)':'var(--green)'}">${h.color}</span>
                    </div>
                </div>
                <div style="text-align:right;">
                    ${badge}
                    <div style="font-size:12px; margin-top:2px;">Res: ${h.result}</div>
                </div>
            </div>`;
        }).join('');
    }

    function clearData() { if(confirm('Clear?')) { localStorage.clear(); location.reload(); } }

    setInterval(() => {
        const s = 60 - new Date().getSeconds();
        document.getElementById('timer').innerText = s<10?'0'+s:s;
        if(s===1 || s===59) engine();
    }, 1000);

    engine();
    render();

</script>
</body>
</html>
