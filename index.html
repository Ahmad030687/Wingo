<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Darknet Supreme 999+</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;900&family=Rajdhani:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #00ff00;
            --primary-dim: rgba(0, 255, 0, 0.1);
            --bg-color: #050505;
            --card-bg: #0a0a0a;
            --text-main: #ffffff;
            --text-dim: #888;
            --loss: #ff3333;
            --win: #00ff00;
        }

        /* THEMES ENGINE */
        body.theme-crimson { --primary: #ff0055; --primary-dim: rgba(255, 0, 85, 0.1); --win: #ff0055; }
        body.theme-cyan { --primary: #00ffff; --primary-dim: rgba(0, 255, 255, 0.1); --win: #00ffff; }
        body.theme-gold { --primary: #ffd700; --primary-dim: rgba(255, 215, 0, 0.1); --win: #ffd700; }
        body.theme-purple { --primary: #bf00ff; --primary-dim: rgba(191, 0, 255, 0.1); --win: #bf00ff; }
        body.theme-orange { --primary: #ff8800; --primary-dim: rgba(255, 136, 0, 0.1); --win: #ff8800; }
        body.theme-blue { --primary: #0088ff; --primary-dim: rgba(0, 136, 255, 0.1); --win: #0088ff; }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; user-select: none; }
        body {
            margin: 0; font-family: 'Rajdhani', sans-serif; background-color: var(--bg-color); color: var(--text-main);
            height: 100vh; display: flex; flex-direction: column; overflow: hidden;
        }

        /* --- HEADER --- */
        .top-bar {
            padding: 15px; border-bottom: 2px solid var(--primary);
            background: linear-gradient(180deg, rgba(0,0,0,1) 0%, rgba(0,50,0,0.1) 100%);
            z-index: 100;
        }
        .app-title { font-family: 'Orbitron'; font-weight: 900; font-size: 1.2rem; color: var(--primary); letter-spacing: 1px; text-transform: uppercase; }
        .app-subtitle { font-size: 0.7rem; color: var(--text-dim); letter-spacing: 2px; font-weight: 700; }
        
        .timer-box { position: absolute; right: 15px; top: 15px; text-align: right; border: 1px solid var(--primary); padding: 5px 10px; border-radius: 5px; }
        .timer-label { font-size: 0.6rem; color: var(--primary); display: block; line-height: 1; margin-bottom: 2px; }
        .timer-val { font-family: 'Orbitron'; font-weight: 700; font-size: 1.2rem; line-height: 1; }

        /* --- CONTENT --- */
        .content-area { flex: 1; overflow-y: auto; padding: 20px; padding-bottom: 90px; }
        
        /* TERMINAL VIEW */
        .terminal-card {
            border: 1px solid var(--primary); border-radius: 15px; padding: 20px;
            background: radial-gradient(circle at center, var(--primary-dim) 0%, #000 100%);
            box-shadow: 0 0 20px var(--primary-dim); text-align: center; margin-bottom: 20px;
        }
        .target-box { display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #333; padding-bottom: 10px; margin-bottom: 20px; }
        .target-num { background: #111; border: 1px solid var(--primary); padding: 5px 15px; border-radius: 5px; font-family: 'Orbitron'; font-size: 1.2rem; font-weight: 700; }
        
        .main-prediction { font-family: 'Orbitron'; font-weight: 900; font-size: 4rem; color: var(--primary); text-shadow: 0 0 30px var(--primary); margin: 20px 0; }
        .algo-badge { font-size: 0.7rem; color: var(--text-dim); text-transform: uppercase; letter-spacing: 2px; margin-bottom: 5px; }

        .pattern-box { border: 1px solid #333; border-radius: 10px; padding: 10px; margin-bottom: 20px; background: #080808; }
        .pattern-title { font-size: 0.8rem; color: var(--primary); text-transform: uppercase; margin-bottom: 10px; font-weight: 700; }
        .pattern-grid { display: flex; justify-content: center; gap: 5px; margin-bottom: 10px; }
        .p-block { width: 30px; height: 30px; display: flex; align-items: center; justify-content: center; font-family: 'Orbitron'; font-weight: 700; border-radius: 4px; font-size: 0.9rem; }
        .pb-blue { border: 1px solid #00aaff; color: #00aaff; }
        .pb-orange { border: 1px solid #ffaa00; color: #ffaa00; }

        .jackpot-section { margin-top: 20px; border-top: 1px solid #333; padding-top: 20px; }
        .jackpot-title { font-size: 0.8rem; color: var(--primary); text-transform: uppercase; margin-bottom: 15px; font-weight: 700; letter-spacing: 1px; }
        .seeds-container { display: flex; justify-content: center; gap: 30px; }
        .seed-circle { width: 80px; height: 80px; border-radius: 50%; background: var(--primary); color: #000; display: flex; align-items: center; justify-content: center; font-family: 'Orbitron'; font-size: 2.5rem; font-weight: 900; box-shadow: 0 0 20px var(--primary); }

        /* ARCHIVE */
        .archive-list { display: flex; flex-direction: column; gap: 15px; }
        .history-card {
            background: #0e0e0e; border-radius: 10px; padding: 15px; border-left: 4px solid #333;
            display: flex; justify-content: space-between; align-items: center;
        }
        .hc-analyzing { border-left-color: #00ffff; }
        .hc-win { border-left-color: var(--win); }
        .hc-loss { border-left-color: var(--loss); }
        .hc-pred { font-family: 'Orbitron'; font-weight: 700; font-size: 1.3rem; }

        /* NAVBAR */
        .navbar {
            position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); width: 90%; max-width: 450px;
            background: #080808; border: 1px solid var(--primary); border-radius: 40px;
            display: flex; justify-content: space-between; padding: 12px 25px;
            box-shadow: 0 0 20px var(--primary-dim); z-index: 200;
        }
        .nav-item { color: #555; cursor: pointer; display: flex; flex-direction: column; align-items: center; }
        .nav-item svg { width: 24px; height: 24px; fill: currentColor; }
        .nav-item.active { color: var(--primary); filter: drop-shadow(0 0 5px var(--primary)); }

        .stat-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; }
        .stat-box { background: #111; border: 1px solid #333; padding: 20px; border-radius: 10px; text-align: center; }
        .stat-num { font-family: 'Orbitron'; font-size: 2rem; font-weight: 700; display: block; }

        .theme-btn { padding: 15px; border: 1px solid #333; border-radius: 8px; text-align: center; font-weight: 700; cursor: pointer; background: #111; }

        @keyframes pulse { 50% { opacity: 0.5; } }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    </style>
</head>
<body class="theme-green">

    <div class="top-bar">
        <div class="app-title">DARKNET AURA <span style="color:#fff">999+</span></div>
        <div class="app-subtitle">SUPREME COMMANDER v.999</div>
        <div class="timer-box">
            <span class="timer-label">SEC TO DRAW</span>
            <span class="timer-val" id="timer">--</span>
        </div>
    </div>

    <div class="content-area" id="app-content">
        </div>

    <div class="navbar">
        <div class="nav-item active" onclick="switchTab('terminal')">
            <svg viewBox="0 0 24 24"><path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM4 18V6h16v12H4z"/><path d="M7.5 15H9v-4.5H7.5V15zm4.5 0h1.5V9H12v6zm4.5-3v3H18V9h-1.5v3z"/></svg>
        </div>
        <div class="nav-item" onclick="switchTab('archive')">
             <svg viewBox="0 0 24 24"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"/></svg>
        </div>
        <div class="nav-item" onclick="switchTab('analytics')">
             <svg viewBox="0 0 24 24"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2v-5h2v5zm4 0h-2v-3h2v3z"/></svg>
        </div>
        <div class="nav-item" onclick="switchTab('themes')">
            <svg viewBox="0 0 24 24"><path d="M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8zm-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12zm3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8zm5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8zm3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"/></svg>
        </div>
        <div class="nav-item" onclick="switchTab('profile')">
            <svg viewBox="0 0 24 24"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>
        </div>
    </div>

    <script>
        // --- TITAN ENGINE CONFIG ---
        const API_URL = "https://draw.ar-lottery01.com/WinGo/WinGo_1M/GetHistoryIssuePage.json?pageSize=30";
        const PROXY = "https://api.allorigins.win/get?url=";

        // --- STATE ---
        let activeTab = 'terminal';
        let history = []; 
        let stats = { win: 0, loss: 0, jackpot: 0 };
        let currentPred = { p: "--", n: ["?", "?"], period: "----", method: "SYNCING" };
        let lastFetchedIssue = null;

        // --- CORE ENGINE ---
        async function engineLoop() {
            try {
                const res = await fetch(PROXY + encodeURIComponent(API_URL + "&ts=" + Date.now()));
                const data = await res.json();
                const json = JSON.parse(data.contents);
                const list = json.data.list;
                
                const latestIssue = list[0].issueNumber;
                let latestRes = parseInt(list[0].totalNumber);
                if(isNaN(latestRes)) latestRes = 0;

                // 1. Resolve Pending
                if(history.length > 0 && history[0].status === 'analyzing') {
                    if(history[0].period === latestIssue) {
                        const actualSize = latestRes >= 5 ? 'BIG' : 'SMALL';
                        const win = history[0].pred === actualSize;
                        history[0].status = win ? 'win' : 'loss';
                        history[0].result = latestRes;
                        if(win) {
                            stats.win++;
                            if(history[0].nums.includes(latestRes)) stats.jackpot++;
                        } else { stats.loss++; }
                        renderView();
                    }
                }

                // 2. Generate Prediction
                if(lastFetchedIssue !== latestIssue) {
                    lastFetchedIssue = latestIssue;
                    const nextPeriod = (BigInt(latestIssue) + 1n).toString();
                    
                    // Titan Logic
                    let streak = 0;
                    let lastSize = latestRes >= 5 ? 'BIG' : 'SMALL';
                    for(let i=0; i<3; i++) {
                        let s = parseInt(list[i].totalNumber) >= 5 ? 'BIG' : 'SMALL';
                        if(s === lastSize) streak++;
                    }

                    let pSize = streak >= 3 ? (lastSize === 'BIG' ? 'SMALL' : 'BIG') : (Math.random() > 0.5 ? 'BIG' : 'SMALL');
                    let method = streak >= 3 ? "PATTERN CUT" : "TITAN OMNI";

                    // Jackpot Magna-Lock
                    const n1 = (latestRes + 3) % 10;
                    const n2 = (latestRes + 7) % 10;

                    currentPred = { period: nextPeriod, p: pSize, n: [n1, n2], method: method };

                    history.unshift({
                        period: nextPeriod, pred: pSize, nums: [n1, n2],
                        status: 'analyzing', result: null, method: method
                    });
                    if(history.length > 20) history.pop();
                    renderView();
                }
            } catch(e) { console.log("Pulse..."); }
        }

        // --- RENDERER (Exactly following ui.html structure) ---
        function renderView() {
            const container = document.getElementById('app-content');
            if(!container) return;

            if(activeTab === 'terminal') {
                container.innerHTML = `
                    <div class="terminal-card" style="animation: fadeIn 0.3s">
                        <div class="target-box">
                            <span style="font-size:0.8rem; color:var(--text-dim)">TARGET PERIOD</span>
                            <span class="target-num">${currentPred.period.slice(-4)}</span>
                        </div>
                        <div class="algo-badge">${currentPred.method}</div>
                        <div class="main-prediction" style="color:${currentPred.p === 'BIG' ? 'var(--win)' : 'var(--loss)'}">${currentPred.p}</div>
                        
                        <div class="pattern-box">
                            <div class="pattern-title">LIVE SCANNER</div>
                            <div class="pattern-grid">
                                <div class="p-block pb-blue">B</div>
                                <div class="p-block pb-orange">S</div>
                                <div class="p-block pb-blue">B</div>
                                <div class="p-block pb-blue">B</div>
                                <div class="p-block pb-orange">S</div>
                                <div class="p-block pb-blue">B</div>
                            </div>
                        </div>

                        <div class="jackpot-section">
                            <div class="jackpot-title">MAGNA-LOCK JACKPOT</div>
                            <div class="seeds-container">
                                <div class="seed-circle">${currentPred.n[0]}</div>
                                <div class="seed-circle">${currentPred.n[1]}</div>
                            </div>
                        </div>
                    </div>
                `;
            } else if(activeTab === 'archive') {
                container.innerHTML = `<div class="archive-list" style="animation: fadeIn 0.3s">` + 
                history.map(h => `
                    <div class="history-card hc-${h.status}">
                        <div class="hc-left">
                            <span class="hc-period">#${h.period.slice(-4)} | ${h.method}</span>
                            <span class="hc-pred" style="color:${h.pred === 'BIG' ? 'var(--win)' : 'var(--loss)'}">${h.pred} [${h.nums.join(',')}]</span>
                            <span style="font-size:0.8rem; font-weight:700; color:#fff">${h.status === 'analyzing' ? 'ANALYZING...' : (h.status.toUpperCase() + ' ('+h.result+')')}</span>
                        </div>
                    </div>`).join('') + `</div>`;
            } else if(activeTab === 'analytics') {
                container.innerHTML = `
                    <div class="analytics-card">
                        <span style="font-size:0.8rem; color:var(--primary)">ALGORITHM STABILITY</span>
                        <div class="bar-chart"><div class="bar-fill" style="width:94%"></div></div>
                    </div>
                `;
            } else if(activeTab === 'themes') {
                container.innerHTML = `
                    <div class="themes-grid">
                        <div class="theme-btn" style="color:#00ff00" onclick="setTheme('theme-green')">GREEN</div>
                        <div class="theme-btn" style="color:#ff0055" onclick="setTheme('theme-crimson')">CRIMSON</div>
                        <div class="theme-btn" style="color:#00ffff" onclick="setTheme('theme-cyan')">CYAN</div>
                        <div class="theme-btn" style="color:#ffd700" onclick="setTheme('theme-gold')">GOLD</div>
                    </div>
                `;
            } else if(activeTab === 'profile') {
                container.innerHTML = `
                    <div class="stat-grid">
                        <div class="stat-box" style="border-color:var(--win)"><span class="stat-num" style="color:var(--win)">${stats.win}</span><span>WINS</span></div>
                        <div class="stat-box" style="border-color:var(--loss)"><span class="stat-num" style="color:var(--loss)">${stats.loss}</span><span>LOSS</span></div>
                        <div class="stat-box" style="grid-column: span 2; border-color:#ffd700"><span class="stat-num" style="color:#ffd700">${stats.jackpot}</span><span>JACKPOTS</span></div>
                    </div>
                `;
            }
        }

        // --- NAVIGATION ---
        window.switchTab = function(tab) {
            activeTab = tab;
            document.querySelectorAll('.nav-item').forEach((item, index) => {
                const tabs = ['terminal', 'archive', 'analytics', 'themes', 'profile'];
                item.classList.toggle('active', tabs[index] === tab);
            });
            renderView();
        }

        window.setTheme = function(t) { document.body.className = t; }

        // --- TIMER ---
        setInterval(() => {
            const s = new Date().getSeconds();
            document.getElementById('timer').innerText = (60 - s).toString().padStart(2, '0');
            if(s === 1) engineLoop();
        }, 1000);

        // --- START ---
        engineLoop();
        renderView();
    </script>
</body>
</html>
