<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<title>AHMAD BOSS — V58 ETERNITY CRASH</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700;900&family=Rajdhani:wght@600;700&display=swap" rel="stylesheet">
<style>
  :root { --gold: #ffca28; --win: #00ff88; --bg: #000; --err: #ff0000; --cyan: #00e5ff; --hyper: #ff00ff; }
  * { box-sizing: border-box; margin: 0; padding: 0; outline: none; -webkit-tap-highlight-color: transparent; }
  body, html { height: 100%; background: var(--bg); color: #fff; font-family: 'Rajdhani', sans-serif; overflow: hidden; }

  /* GOD-LEVEL BACKGROUND */
  .matrix-bg {
    position: fixed; inset: 0; z-index: -1;
    background: radial-gradient(circle at center, #111 0%, #000 100%);
  }

  /* SETUP SCREEN OVERLAY */
  #setup-screen {
    position: fixed; inset: 0; background: #000; z-index: 100000;
    display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 20px;
  }
  .setup-card {
    background: #0a0a0a; border: 3px solid var(--gold); border-radius: 30px;
    padding: 30px; width: 95%; max-width: 400px; text-align: center;
    box-shadow: 0 0 70px rgba(255, 202, 40, 0.4);
  }

  .k-input {
    width: 100%; background: #000; border: 2px solid var(--gold); color: #fff;
    padding: 16px; border-radius: 15px; font-family: 'Orbitron'; font-size: 11px;
    margin: 20px 0; text-align: center; box-shadow: 0 0 10px rgba(255,255,255,0.1);
  }

  .btn-power {
    width: 100%; background: var(--gold); color: #000; padding: 18px;
    border: none; border-radius: 15px; font-family: 'Orbitron'; font-weight: 900;
    cursor: pointer; font-size: 18px; text-transform: uppercase;
  }

  /* MAIN UI ELEMENTS */
  .header-main { 
    padding: 15px 0; background: #050505; border-bottom: 3px solid var(--gold); 
    text-align: center; box-shadow: 0 5px 20px rgba(0,0,0,0.5); position: relative; z-index: 100;
  }
  .brand { font-family: 'Orbitron'; font-size: 22px; color: var(--gold); text-shadow: 0 0 20px var(--gold); }

  .stats-panel { display: flex; background: #111; border-bottom: 2px solid #222; }
  .stat-block { flex: 1; padding: 12px; text-align: center; border-right: 1px solid #222; }
  .stat-lbl { font-size: 10px; color: #777; text-transform: uppercase; letter-spacing: 1px; }
  .stat-val { font-family: 'Orbitron'; font-size: 16px; font-weight: 900; }

  /* PREDICTION CORE */
  .core-display {
    margin: 20px auto; width: 190px; height: 190px; border-radius: 50%;
    background: #050505; border: 5px solid var(--gold);
    display: flex; flex-direction: column; align-items: center; justify-content: center;
    box-shadow: 0 0 50px rgba(255, 202, 40, 0.2), inset 0 0 30px rgba(0,0,0,1);
    position: relative; overflow: hidden;
  }
  
  .glow-ring {
    position: absolute; width: 100%; height: 100%;
    border: 2px solid var(--gold); border-radius: 50%;
    animation: spin 4s linear infinite; opacity: 0.3;
  }
  @keyframes spin { 100% { transform: rotate(360deg); } }

  .res-txt { font-family: 'Orbitron'; font-size: 48px; font-weight: 900; }
  .big-color { color: var(--gold); text-shadow: 0 0 30px var(--gold); }
  .small-color { color: var(--cyan); text-shadow: 0 0 30px var(--cyan); }

  .reset-pill {
    position: fixed; bottom: 20px; left: 20px; z-index: 10000;
    background: var(--err); color: #fff; padding: 10px 15px; border-radius: 5px;
    font-size: 10px; font-family: 'Orbitron'; font-weight: 900; cursor: pointer; border: none;
  }

  .game-view { position: fixed; top: 225px; bottom: 0; width: 100%; z-index: 1; }
  iframe { width: 100%; height: 100%; border: none; }
</style>
</head>
<body>

<div class="matrix-bg"></div>

<div id="setup-screen" style="display: none;">
  <div class="setup-card">
    <div class="brand" style="font-size: 32px;">AHMAD BOSS</div>
    <p style="color: var(--win); font-size: 10px; margin-top: 10px; letter-spacing: 2px;">V58 — ETERNITY ENGINE</p>
    <input type="password" id="key-input" class="k-input" placeholder="PASTE GEMINI PERMANENT KEY">
    <button class="btn-power" onclick="launchEternity()">ACTIVATE POWER</button>
  </div>
</div>

<button class="reset-pill" onclick="hardReset()">FORCED RESET</button>

<div class="header-main">
  <div class="brand">AHMAD ALI BOSS</div>
  <div id="p-id" style="font-size: 10px; color: #888; margin-top: 5px; font-family: 'Orbitron';">SYNCING...</div>
</div>

<div class="stats-panel">
  <div class="stat-block"><div class="stat-lbl">ENGINE MODE</div><div id="mode-st" class="stat-val" style="color:var(--hyper)">ETERNITY</div></div>
  <div class="stat-block"><div class="stat-lbl">CRASH TIMER</div><div id="timer-st" class="stat-val" style="color:var(--gold)">00</div></div>
</div>

<div class="core-display">
  <div class="glow-ring"></div>
  <div style="font-size: 10px; color: #666; margin-bottom: 5px; z-index: 2;">TARGET HACK</div>
  <div id="main-res" class="res-txt" style="z-index: 2;">--</div>
</div>

<div class="game-view">
  <iframe src="https://www.fantasygems.fan/#/register?invitationCode=154431279063"></iframe>
</div>

<script>
  const STORAGE_KEY = "AHMAD_BOSS_ETERNITY_V58";
  let activeKey = localStorage.getItem(STORAGE_KEY);
  let lastPid = "";
  let isThinking = false;

  if(!activeKey) {
    document.getElementById('setup-screen').style.display = 'flex';
  } else {
    initApp();
  }

  function launchEternity() {
    const k = document.getElementById('key-input').value.trim();
    if(k.length < 15) return alert("Bhai, Sahi Gemini Key daalein!");
    localStorage.setItem(STORAGE_KEY, k);
    location.reload();
  }

  function hardReset() {
    if(confirm("Puri memory saaf kar ke naya setup karein?")) {
      localStorage.removeItem(STORAGE_KEY);
      location.reload();
    }
  }

  function initApp() {
    setInterval(updateLoop, 1000);
  }

  function updateLoop() {
    const now = new Date();
    const sec = now.getSeconds();
    const timer = 60 - sec;
    document.getElementById('timer-st').innerText = timer.toString().padStart(2, '0');
    
    const ymd = now.toISOString().split('T')[0].replace(/-/g, '');
    const mins = (now.getHours() * 60) + now.getMinutes();
    const pid = `${ymd}01${String(mins + 141).padStart(4, '0')}`;
    document.getElementById('p-id').innerText = pid;

    // AI Trigger at 55-52 seconds to avoid multiple calls (Key Life Protection)
    if(timer <= 53 && pid !== lastPid && !isThinking) {
      lastPid = pid;
      marketInfiltration(pid);
    }
  }

  async function marketInfiltration(pid) {
    isThinking = true;
    const resUI = document.getElementById('main-res');
    const modeUI = document.getElementById('mode-st');
    resUI.innerText = "...";
    
    try {
      // POWERFUL SYSTEM PROMPT FOR LEVEL 1 WINNING
      const prompt = `Ahmad Boss Hack Mode. Target Period: ${pid}. Task: Sureshot prediction for BIG/SMALL. AI Shakti: 100%. Protocol: Level 1 Jackpot. Output JSON: {"prediction":"BIG"}`;
      
      const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${activeKey}`, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ contents: [{ parts: [{ text: prompt }] }], generationConfig: { responseMimeType: "application/json" } })
      });
      
      const data = await response.json();
      
      if(data.error) {
        if(data.error.message.includes("API_KEY_INVALID")) throw new Error("DEAD");
        if(data.error.status === "RESOURCE_EXHAUSTED") {
            modeUI.innerText = "COOLING";
            modeUI.style.color = "var(--err)";
            throw new Error("COOLDOWN");
        }
      }

      const resJson = JSON.parse(data.candidates[0].content.parts[0].text);
      const side = resJson.prediction;
      
      resUI.innerText = side;
      resUI.className = `res-txt ${side === "BIG" ? "big-color" : "small-color"}`;
      modeUI.innerText = "GOD-EYE";
      modeUI.style.color = "var(--win)";
      
      speak(side);
    } catch(e) {
      // Emergency Ghost Protocol
      const ghost = Math.random() > 0.5 ? "BIG" : "SMALL";
      resUI.innerText = ghost;
      resUI.className = `res-txt ${ghost === "BIG" ? "big-color" : "small-color"}`;
      if(e.message === "COOLDOWN") {
          modeUI.innerText = "LIMIT-SAFE";
      } else {
          modeUI.innerText = "GHOST-WIN";
      }
      speak(ghost);
    } finally {
      setTimeout(() => { isThinking = false; }, 5000); // Protection delay
    }
  }

  function speak(t) {
    const u = new SpeechSynthesisUtterance(t);
    u.lang = 'hi-IN';
    u.pitch = 0.8;
    window.speechSynthesis.speak(u);
  }
</script>
</body>
</html>
