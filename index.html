<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>30S God Mode V.34</title>
    <style>
        *{box-sizing:border-box;margin:0;padding:0}
        :root{ --bg:#000; --neon:#ff00e6; --cyan:#00f3ff; --glass:rgba(20, 0, 30, 0.95); --border:rgba(255, 0, 230, 0.3); --green:#00ff9c; --red:#ff3b3b; }
        body{ background:radial-gradient(circle at center,#1a0024,#000); font-family: 'Segoe UI', sans-serif; color:#fff; min-height: 100vh; overflow-x: hidden; }
        .app{ max-width:420px; margin:auto; padding:12px; }

        /* TIMER & HEADER */
        .header{ padding:15px; border-radius:15px; background:var(--glass); border:1px solid var(--border); display:flex; justify-content:space-between; align-items:center; box-shadow:0 0 20px rgba(255,0,230,0.2); margin-bottom:15px; }
        .aura{ font-size:18px; font-weight:900; color:var(--neon); text-shadow:0 0 10px var(--neon); }
        .timer-box{ background:#000; padding:5px 15px; border-radius:10px; border:1px solid var(--cyan); color:var(--cyan); font-weight:bold; font-size:18px; }

        /* GOD MODE CARD */
        .card{ padding:20px; border-radius:20px; background:var(--glass); border:1px solid var(--border); box-shadow:0 0 30px rgba(255,0,230,0.15); margin-bottom:15px; position:relative; }
        .p-info{ display:flex; justify-content:space-between; font-size:12px; color:#aaa; margin-bottom:10px; }
        .p-text{ font-size:60px; font-weight:900; color:var(--cyan); text-align:center; text-shadow:0 0 40px var(--cyan); margin:10px 0; }
        
        .jack-row{ display:flex; justify-content:center; gap:20px; margin-top:15px; }
        .jack-row div{ width:50px; height:50px; border-radius:12px; background:#12051a; border:1px solid var(--border); display:flex; align-items:center; justify-content:center; font-weight:bold; font-size: 22px; color: #ffcc00; box-shadow:0 0 15px var(--neon); }

        /* L2 STATUS */
        .l2-status { text-align:center; font-size:11px; margin-top:10px; color:var(--green); letter-spacing:1px; background:rgba(0,255,156,0.1); padding:5px; border-radius:5px; }

        /* ARCHIVE */
        .arc-item { position:relative; background:rgba(20,5,30,0.95); border-radius:12px; padding:15px; margin-top:10px; border-left: 5px solid var(--green); display:flex; justify-content:space-between; align-items:center; }
        .arc-item.loss { border-left-color: var(--red); }
        .res-badge { font-weight:bold; font-size:18px; }
        
        .nav{ position:fixed; bottom:10px; left:50%; transform:translateX(-50%); width:94%; background:var(--glass); padding:15px; border-radius:20px; display:flex; justify-content:space-around; border:1px solid var(--border); backdrop-filter:blur(10px); z-index:99; }
        .nav span{ font-size:12px; font-weight:bold; opacity:0.6; }
        .active { color:var(--neon); opacity:1 !important; text-shadow:0 0 10px var(--neon); }
    </style>
</head>
<body>

<div class="app">
    <div class="header">
        <div class="aura">30S GOD MODE V.34</div>
        <div class="timer-box" id="timer">00</div>
    </div>

    <div id="page-terminal">
        <div class="card">
            <div class="p-info"><span>NEXT PERIOD</span><span id="nextP" style="color:#fff">SYNCING...</span></div>
            <div class="p-text" id="pred">WAIT</div>
            <div class="jack-row" id="jack"><div>?</div><div>?</div></div>
            <div class="l2-status" id="logic">SYSTEM READY</div>
        </div>

        <div style="display:grid; grid-template-columns:1fr 1fr; gap:10px; margin-bottom:15px;">
            <div style="background:rgba(0,0,0,0.5); padding:10px; border-radius:10px; text-align:center; border:1px solid var(--border);">
                <h3 id="wins" style="margin:0; color:var(--neon)">0</h3><small style="font-size:10px;">TOTAL WINS</small>
            </div>
            <div style="background:rgba(0,0,0,0.5); padding:10px; border-radius:10px; text-align:center; border:1px solid var(--border);">
                <h3 id="lvl" style="margin:0; color:#fff">L1</h3><small style="font-size:10px;">STATUS</small>
            </div>
        </div>
    </div>

    <div id="page-archive" style="display:none; padding-bottom:80px;">
        <div id="list"></div>
    </div>

    <div class="nav">
        <span class="active" onclick="tab('page-terminal', this)">TERMINAL</span>
        <span onclick="tab('page-archive', this)">ARCHIVE</span>
    </div>
</div>

<script>
    const API = "https://draw.ar-lottery01.com/WinGo/WinGo_30S/GetHistoryIssuePage.json?ts=";
    const BOSS_MAP = { 0:[5,2], 1:[6,3], 2:[7,4], 3:[8,0], 4:[9,1], 5:[0,7], 6:[1,8], 7:[2,9], 8:[3,5], 9:[4,6] };
    
    let lastPeriod = "";
    let activePred = null;
    let wins = 0;
    let level = 1;

    setInterval(sync, 1500);
    setInterval(updateTimer, 1000);

    function updateTimer() {
        const d = new Date();
        const s = d.getSeconds();
        let remaining = s < 30 ? 30 - s : 60 - s;
        const el = document.getElementById('timer');
        el.innerText = remaining < 10 ? "0"+remaining : remaining;
        el.style.color = remaining <= 5 ? "var(--red)" : "var(--cyan)";
    }

    async function sync() {
        try {
            const res = await fetch(API + Date.now());
            const data = await res.json();
            const list = data.data.list;
            const currentP = list[0].issueNumber;

            if (currentP !== lastPeriod) {
                if (activePred && lastPeriod !== "") checkResult(list[0], activePred);
                lastPeriod = currentP;
                generate30sPrediction(list);
            }
        } catch (e) { console.log("Connecting..."); }
    }

    function generate30sPrediction(history) {
        const lastNum = parseInt(history[0].number);
        const lastBS = lastNum >= 5 ? "BIG" : "SMALL";
        const prevBS = history[1].number >= 5 ? "BIG" : "SMALL";
        const pPrevBS = history[2].number >= 5 ? "BIG" : "SMALL";
        
        let prediction, logic;
        let [n1, n2] = BOSS_MAP[lastNum];
        let nextP = (BigInt(history[0].issueNumber) + 1n).toString();

        // Streak check
        let streak = 1;
        if(lastBS === prevBS) streak = 2;
        if(streak === 2 && prevBS === pPrevBS) streak = 3;

        // --- LEVEL 2 GOD MODE LOGIC ---
        if (level === 2) {
            // AGAR L1 MISS HUA, TOH REASON DEKHO.
            // Agar Streak ban rahi hai (Streak >= 2), iska matlab L1 ne Cut karne ki koshish ki aur fail hua.
            // TOH AB HUM CUT NAHI KARENGE. HUM FOLLOW KARENGE.
            
            if (streak >= 2) {
                prediction = lastBS; // Follow the Dragon/Repeat
                logic = "L2: STREAK GUARD (SAFE FOLLOW)";
            } else {
                // Agar Streak nahi hai (matlab ZigZag fail hua), tab Reverse karo
                prediction = lastBS === "BIG" ? "SMALL" : "BIG";
                logic = "L2: STANDARD RECOVERY";
            }

            // TRAP PROTECTION (Override)
            if(lastNum === 0 || lastNum === 5) {
                // Agar 0/5 hai, toh mostly Small Dragon banta hai 30s mai
                prediction = "SMALL";
                logic = "L2: TRAP-0/5 MASTER LOCK";
            }
        } 
        // --- LEVEL 1 SPEED LOGIC ---
        else {
            if (lastBS !== prevBS && prevBS !== pPrevBS) {
                prediction = lastBS === "BIG" ? "SMALL" : "BIG";
                logic = "L1: ZIG-ZAG MOMENTUM";
            } else if (streak >= 3) {
                prediction = lastBS;
                logic = "L1: DRAGON SPEED LOCK";
            } else {
                prediction = n1 >= 5 ? "BIG" : "SMALL";
                logic = "L1: MIRROR SURESHOT";
            }
        }

        activePred = { period: nextP, pred: prediction, n1, n2, logic };

        document.getElementById('nextP').innerText = nextP.slice(-5);
        document.getElementById('pred').innerText = prediction;
        document.getElementById('jack').innerHTML = `<div>${n1}</div><div>${n2}</div>`;
        document.getElementById('logic').innerText = logic;
        document.getElementById('lvl').innerText = "L" + level;
    }

    function checkResult(actual, pred) {
        const actualBS = actual.number >= 5 ? "BIG" : "SMALL";
        const isWin = actualBS === pred.pred;
        
        if (isWin) { wins++; level = 1; } else { level = level === 1 ? 2 : 1; }
        
        document.getElementById('wins').innerText = wins;
        const list = document.getElementById('list');
        const card = document.createElement('div');
        card.className = `arc-item ${isWin ? '' : 'loss'}`;
        card.innerHTML = `
            <div>
                <div style="font-size:10px; opacity:0.7">#${actual.issueNumber.slice(-5)} (${pred.logic})</div>
                <div style="font-size:9px; color:var(--cyan)">${pred.logic.includes('L2') ? '⚠️ RECOVERY MODE' : '✅ LEVEL 1'}</div>
            </div>
            <div class="res-badge" style="color:${isWin?'var(--green)':'var(--red)'}">${actualBS} (${actual.number})</div>
        `;
        list.prepend(card);
    }

    function tab(id, btn) {
        document.getElementById('page-terminal').style.display = id === 'page-terminal' ? 'block' : 'none';
        document.getElementById('page-archive').style.display = id === 'page-archive' ? 'block' : 'none';
        document.querySelectorAll('.nav span').forEach(s => s.classList.remove('active'));
        btn.classList.add('active');
    }
</script>
</body>
</html>
