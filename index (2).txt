<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>TRX ULTIMATE COMMANDER</title>

<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;900&family=Rajdhani:wght@400;500;600;700&display=swap" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">

<style>
    :root {
        --neon: #00ff4c; /* Main Green */
        --red: #ff3e3e;
        --bg: #050505;
        --card: #0e0e0e;
        --text-mute: #666;
    }

    * { margin:0; padding:0; box-sizing:border-box; -webkit-tap-highlight-color:transparent; }
    body { background: var(--bg); color: #fff; font-family: 'Rajdhani', sans-serif; padding-bottom: 80px; overflow-x: hidden; }

    /* --- LOADING SCREEN --- */
    #boot-screen {
        position: fixed; top:0; left:0; width:100%; height:100%; background: #000; z-index: 9999;
        display: flex; flex-direction: column; justify-content: center; align-items: center;
        transition: opacity 0.5s;
    }
    .loader { width: 50px; height: 50px; border: 3px solid #333; border-top-color: var(--neon); border-radius: 50%; animation: spin 1s infinite linear; }
    .boot-text { margin-top: 15px; font-family: 'Orbitron'; font-size: 12px; letter-spacing: 2px; color: var(--neon); animation: blink 1s infinite; }

    /* --- HEADER --- */
    header {
        background: rgba(10,10,10,0.95); padding: 15px; border-bottom: 2px solid var(--neon);
        display: flex; justify-content: space-between; align-items: center; position: sticky; top: 0; z-index: 100;
        backdrop-filter: blur(5px);
    }
    .brand h1 { font-family: 'Orbitron'; font-weight: 900; font-size: 18px; color: #fff; line-height: 1; }
    .brand span { font-size: 10px; color: var(--neon); letter-spacing: 1px; font-weight: 700; }
    .timer-badge {
        background: #000; border: 1px solid var(--neon); padding: 5px 12px; border-radius: 8px;
        text-align: center; box-shadow: 0 0 10px rgba(0,255,76,0.2) inset;
    }
    #timer { font-family: 'Orbitron'; font-size: 20px; font-weight: 700; line-height: 1; color: #fff; }
    .timer-lbl { font-size: 8px; color: var(--neon); font-weight: 700; }

    /* --- MAIN TABS --- */
    .tab-content { display: none; padding: 15px; animation: slideUp 0.3s ease; }
    .tab-content.active { display: block; }

    /* --- TERMINAL CARDS --- */
    .cyber-card {
        background: var(--card); border: 1px solid #222; border-radius: 15px; padding: 20px;
        margin-bottom: 15px; position: relative; overflow: hidden; box-shadow: 0 10px 30px rgba(0,0,0,0.5);
    }
    .cyber-card::before { content:''; position:absolute; top:0; left:0; width:100%; height:2px; background:linear-gradient(90deg, transparent, var(--neon), transparent); animation: scan 2s linear infinite; }
    
    .info-row { display: flex; justify-content: space-between; font-size: 12px; font-weight: 700; color: var(--text-mute); margin-bottom: 15px; }
    .period-txt { font-family: 'Orbitron'; color: #fff; font-size: 14px; }

    /* PREDICTION BOX */
    .pred-box { text-align: center; padding: 10px 0 20px; }
    .pred-title { font-size: 10px; letter-spacing: 3px; color: var(--text-mute); margin-bottom: 5px; }
    .main-signal { font-family: 'Orbitron'; font-size: 60px; font-weight: 900; line-height: 1; text-transform: uppercase; margin: 5px 0; text-shadow: 0 0 30px rgba(0,255,76,0.2); }
    .main-signal.BIG, .main-signal.GREEN { color: var(--neon); text-shadow: 0 0 30px rgba(0,255,76,0.4); }
    .main-signal.SMALL, .main-signal.RED { color: var(--red); text-shadow: 0 0 30px rgba(255,62,62,0.4); }
    .sub-info { font-size: 11px; font-weight: 700; color: #fff; background: #222; padding: 4px 12px; border-radius: 20px; display: inline-block; }

    /* REAL TIME GRID */
    .grid-head { display: flex; justify-content: space-between; font-size: 10px; font-weight: 700; color: var(--text-mute); margin-bottom: 8px; }
    .grid-container { display: grid; grid-template-columns: repeat(6, 1fr); gap: 5px; margin-bottom: 20px; }
    .g-item { 
        height: 35px; background: #111; border: 1px solid #333; border-radius: 6px; 
        display: flex; justify-content: center; align-items: center; 
        font-family: 'Orbitron'; font-weight: 700; font-size: 14px; color: #555; transition: 0.3s;
    }
    .g-item.is-green { border-color: var(--neon); color: var(--neon); box-shadow: inset 0 0 10px rgba(0,255,76,0.1); }
    .g-item.is-red { border-color: var(--red); color: var(--red); box-shadow: inset 0 0 10px rgba(255,62,62,0.1); }

    /* REAL METERS */
    .meter-row { display: flex; gap: 10px; }
    .meter-box { flex: 1; background: #0a0a0a; border: 1px solid #222; padding: 10px; border-radius: 10px; }
    .m-head { display: flex; justify-content: space-between; font-size: 9px; font-weight: 700; color: #666; margin-bottom: 5px; }
    .m-bar-bg { height: 4px; background: #222; border-radius: 2px; overflow: hidden; }
    .m-bar-fill { height: 100%; width: 0%; transition: width 0.5s; box-shadow: 0 0 5px currentColor; }
    .m-val { font-family: 'Orbitron'; font-size: 14px; font-weight: 700; margin-top: 5px; color: #fff; }

    /* ARCHIVE LIST */
    .list-header { display: flex; background: #111; padding: 10px 15px; font-size: 10px; font-weight: 800; color: #666; border-radius: 10px 10px 0 0; }
    .l-1 { width: 20%; } .l-2 { width: 30%; text-align: center; } .l-3 { width: 25%; text-align: center; } .l-4 { width: 25%; text-align: right; }
    
    .history-box { background: var(--card); border: 1px solid #222; border-top: none; border-radius: 0 0 10px 10px; min-height: 200px; }
    .h-item { display: flex; padding: 12px 15px; border-bottom: 1px solid #1a1a1a; font-size: 12px; font-weight: 700; align-items: center; }
    .h-item:last-child { border: none; }
    
    .res-badge { padding: 2px 6px; border-radius: 4px; font-size: 9px; font-weight: 800; }
    .st-win { color: var(--neon); } .st-loss { color: var(--red); }
    .st-load { color: #00ffff; animation: blink 1s infinite; display: flex; align-items: center; justify-content: flex-end; gap: 5px; }

    /* THEMES GRID */
    .themes-area { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
    .theme-opt { background: #0a0a0a; border: 1px solid #333; padding: 15px; text-align: center; border-radius: 10px; cursor: pointer; transition: 0.2s; }
    .theme-opt:active { transform: scale(0.98); }
    .t-dot { width: 20px; height: 20px; border-radius: 50%; margin: 0 auto 5px; box-shadow: 0 0 10px currentColor; }
    .t-name { font-family: 'Orbitron'; font-size: 10px; font-weight: 700; }

    /* PROFILE */
    .profile-head { text-align: center; margin-bottom: 20px; }
    .p-avatar { width: 60px; height: 60px; background: #111; border: 2px solid var(--neon); border-radius: 50%; margin: 0 auto 10px; display: flex; align-items: center; justify-content: center; font-size: 24px; color: var(--neon); box-shadow: 0 0 15px rgba(0,255,76,0.2); }
    .p-list { margin-top: 10px; }
    .p-row { display: flex; justify-content: space-between; padding: 12px 0; border-bottom: 1px solid #222; font-size: 12px; font-weight: 700; }
    .p-row span:last-child { color: #fff; font-family: 'Orbitron'; }

    /* NAVBAR */
    .nav { position: fixed; bottom: 0; left: 0; width: 100%; background: #000; border-top: 1px solid #222; display: flex; justify-content: space-around; padding: 12px 0; z-index: 900; box-shadow: 0 -10px 20px rgba(0,0,0,0.8); }
    .nav-btn { display: flex; flex-direction: column; align-items: center; color: #444; transition: 0.3s; }
    .nav-btn i { font-size: 20px; margin-bottom: 4px; }
    .nav-btn span { font-size: 9px; font-weight: 800; letter-spacing: 1px; }
    .nav-btn.active { color: var(--neon); text-shadow: 0 0 10px var(--neon); transform: translateY(-3px); }

    /* ANIMATIONS */
    @keyframes spin { to { transform: rotate(360deg); } }
    @keyframes blink { 50% { opacity: 0.5; } }
    @keyframes scan { 0% { top: -100%; } 100% { top: 200%; } }
    @keyframes slideUp { from { transform: translateY(20px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }

</style>
</head>
<body>

    <div id="boot-screen">
        <div class="loader"></div>
        <div class="boot-text">INITIALIZING SYSTEM...</div>
    </div>

    <header>
        <div class="brand">
            <h1>TRX SUPREME</h1>
            <span>AI COMMANDER V4.0</span>
        </div>
        <div class="timer-badge">
            <span class="timer-lbl">TIME LEFT</span>
            <div id="timer">00</div>
        </div>
    </header>

    <div id="tab-terminal" class="tab-content active">
        
        <div class="cyber-card">
            <div class="info-row">
                <span>TARGET PERIOD</span>
                <span class="period-txt" id="period-display">...</span>
            </div>
            
            <div class="pred-box">
                <div class="pred-title">AI PREDICTION RESULT</div>
                <div class="main-signal" id="main-signal">WAIT</div>
                <div class="sub-info" id="algo-status">SCANNING DATA...</div>
            </div>

            <div class="grid-head">
                <span>LIVE STREAM (LAST 6)</span>
                <span style="color:var(--neon)">REAL-TIME</span>
            </div>
            <div class="grid-container" id="grid-box">
                <div class="g-item">-</div><div class="g-item">-</div><div class="g-item">-</div>
                <div class="g-item">-</div><div class="g-item">-</div><div class="g-item">-</div>
            </div>

            <div class="meter-row">
                <div class="meter-box">
                    <div class="m-head"><span>TREND STRENGTH</span><span id="str-pct">0%</span></div>
                    <div class="m-bar-bg"><div class="m-bar-fill" id="str-bar" style="background:var(--neon)"></div></div>
                    <div class="m-val" id="str-val">WEAK</div>
                </div>
                <div class="meter-box">
                    <div class="m-head"><span>VOLATILITY</span><span id="vol-pct">0%</span></div>
                    <div class="m-bar-bg"><div class="m-bar-fill" id="vol-bar" style="background:var(--red)"></div></div>
                    <div class="m-val" id="vol-val">LOW</div>
                </div>
            </div>
        </div>

        <div class="cyber-card" style="padding:15px">
            <div class="info-row" style="margin-bottom:5px"><span>SESSION STATISTICS</span><span>AUTO-SAVE</span></div>
            <div style="display:flex; justify-content:space-between; font-weight:800; font-size:14px; margin-top:10px;">
                <span style="color:var(--neon)">WIN: <span id="w-stat">0</span></span>
                <span style="color:var(--red)">LOSS: <span id="l-stat">0</span></span>
                <span>ACCURACY: <span id="acc-stat">0%</span></span>
            </div>
        </div>

    </div>

    <div id="tab-archive" class="tab-content">
        <div style="text-align:center; font-family:'Orbitron'; margin-bottom:15px; font-weight:700;">HISTORY LOG</div>
        <div class="list-header">
            <div class="l-1">PERIOD</div>
            <div class="l-2">PRED</div>
            <div class="l-3">RESULT</div>
            <div class="l-4">STATUS</div>
        </div>
        <div class="history-box" id="archive-list">
            </div>
    </div>

    <div id="tab-themes" class="tab-content">
        <div style="text-align:center; font-family:'Orbitron'; margin-bottom:15px; font-weight:700;">INTERFACE THEMES</div>
        <div class="themes-area">
            <div class="theme-opt" onclick="setTheme('green')"><div class="t-dot" style="background:#00ff4c; color:#00ff4c"></div><div class="t-name">NEON GREEN</div></div>
            <div class="theme-opt" onclick="setTheme('red')"><div class="t-dot" style="background:#ff3e3e; color:#ff3e3e"></div><div class="t-name">CYBER RED</div></div>
            <div class="theme-opt" onclick="setTheme('gold')"><div class="t-dot" style="background:#ffd700; color:#ffd700"></div><div class="t-name">VIP GOLD</div></div>
            <div class="theme-opt" onclick="setTheme('cyan')"><div class="t-dot" style="background:#00ffff; color:#00ffff"></div><div class="t-name">HACKER CYAN</div></div>
            <div class="theme-opt" onclick="setTheme('purple')"><div class="t-dot" style="background:#bf00ff; color:#bf00ff"></div><div class="t-name">ULTRA PURPLE</div></div>
            <div class="theme-opt" onclick="setTheme('blue')"><div class="t-dot" style="background:#0088ff; color:#0088ff"></div><div class="t-name">DEEP BLUE</div></div>
        </div>
    </div>

    <div id="tab-profile" class="tab-content">
        <div class="cyber-card">
            <div class="profile-head">
                <div class="p-avatar"><i class="fa-solid fa-user-astronaut"></i></div>
                <h2 style="font-family:'Orbitron'; margin:0">COMMANDER</h2>
                <span style="font-size:10px; color:var(--neon); letter-spacing:2px; font-weight:700;">PRO LICENSE</span>
            </div>
            <div class="p-list">
                <div class="p-row"><span>STATUS</span><span style="color:var(--neon)">ONLINE</span></div>
                <div class="p-row"><span>VERSION</span><span>V4.0.1</span></div>
                <div class="p-row"><span>SERVER</span><span>ASIA-HK</span></div>
                <div class="p-row"><span>VALIDITY</span><span>LIFETIME</span></div>
            </div>
        </div>
        <div class="cyber-card" style="text-align:center; color:#444; font-size:10px; font-weight:700;">
            SYSTEM ID: TRX-9928-X
        </div>
    </div>

    <div class="nav">
        <div class="nav-btn active" onclick="switchTab('terminal', this)">
            <i class="fa-solid fa-microchip"></i><span>TERMINAL</span>
        </div>
        <div class="nav-btn" onclick="switchTab('archive', this)">
            <i class="fa-solid fa-list-check"></i><span>ARCHIVE</span>
        </div>
        <div class="nav-btn" onclick="switchTab('themes', this)">
            <i class="fa-solid fa-palette"></i><span>THEMES</span>
        </div>
        <div class="nav-btn" onclick="switchTab('profile', this)">
            <i class="fa-solid fa-id-card"></i><span>PROFILE</span>
        </div>
    </div>

<script>
    // --- INIT ---
    setTimeout(() => { document.getElementById('boot-screen').style.opacity = '0'; setTimeout(()=>document.getElementById('boot-screen').style.display='none',500) }, 1500);

    const firebaseConfig = { apiKey: "AIzaSyA8qJ3qJl5fzbOBKopx99zsACkEGofbfyY", authDomain: "admin-91a73.firebaseapp.com", databaseURL: "https://admin-91a73-default-rtdb.firebaseio.com", projectId: "admin-91a73", storageBucket: "admin-91a73.firebasestorage.app", messagingSenderId: "153529788738", appId: "1:153529788738:web:65363636579881912940db", measurementId: "G-N4T0HV7ER1" };
    firebase.initializeApp(firebaseConfig);

    let history = JSON.parse(localStorage.getItem('real_trx_hist')) || [];
    let stats = JSON.parse(localStorage.getItem('real_trx_stats')) || { w:0, l:0 };
    let lossStreak = parseInt(localStorage.getItem('real_trx_streak')) || 0;
    let lastProcessed = null;

    function save() {
        localStorage.setItem('real_trx_hist', JSON.stringify(history));
        localStorage.setItem('real_trx_stats', JSON.stringify(stats));
        localStorage.setItem('real_trx_streak', lossStreak);
    }

    // --- REAL ENGINE ---
    async function engine() {
        try {
            const res = await fetch("https://draw.ar-lottery01.com/WinGo/WinGo_1M/GetHistoryIssuePage.json?pageSize=20&ts="+Date.now());
            const json = await res.json();
            const list = json.data.list;
            const latest = list[0];
            const issue = latest.issueNumber;
            const num = parseInt(latest.number);
            const size = num >= 5 ? 'BIG' : 'SMALL';
            const color = [1,3,7,9].includes(num) ? 'GREEN' : (num === 5 ? 'GREEN' : 'RED');

            // --- 1. UPDATE REAL TIME GRID ---
            updateLiveGrid(list);

            // --- 2. UPDATE REAL METERS ---
            updateMeters(list);

            // --- 3. CHECK RESULT ---
            if (history.length > 0 && history[0].status === 'pending' && history[0].issue === issue) {
                let win = history[0].type === 'SIZE' ? (history[0].pred === size) : (history[0].pred === color);
                
                if(win) { 
                    history[0].status = 'win'; 
                    stats.w++; 
                    lossStreak = 0; 
                } else { 
                    history[0].status = 'loss'; 
                    stats.l++; 
                    lossStreak++; 
                }
                history[0].res = `${num} (${size.charAt(0)})`;
                save(); render();
            }

            // --- 4. PREDICT NEXT ---
            if (lastProcessed !== issue) {
                lastProcessed = issue;
                const nextIssue = (BigInt(issue)+1n).toString();
                
                // Logic: 10-Round Concentration
                let sCount = 0; let cCount = 0;
                for(let i=0; i<10; i++) {
                    if((parseInt(list[i].number) >= 5 ? 'BIG':'SMALL') === size) sCount++;
                    let c = [1,3,7,9].includes(parseInt(list[i].number)) ? 'GREEN' : 'RED';
                    if(c === color) cCount++;
                }

                let pred = "", type = "";
                // Anti-Chop: If losing, flip logic
                if (lossStreak >= 1) {
                    pred = (size === 'BIG') ? 'SMALL' : 'BIG'; 
                    type = 'SIZE';
                } else {
                    if(cCount >= sCount) { pred = color; type = 'COLOR'; }
                    else { pred = size; type = 'SIZE'; }
                }

                history.unshift({ issue: nextIssue, pred: pred, type: type, status: 'pending', res: '...' });
                if(history.length > 25) history.pop();
                
                updateTerminal(pred, nextIssue);
                save(); render();
            }

        } catch(e) {}
    }

    // --- DOM UPDATERS ---
    function updateLiveGrid(list) {
        const box = document.getElementById('grid-box');
        box.innerHTML = '';
        for(let i=0; i<6; i++) {
            let n = list[i].number;
            let cls = [1,3,5,7,9].includes(parseInt(n)) ? 'is-green' : 'is-red';
            box.innerHTML += `<div class="g-item ${cls}">${n}</div>`;
        }
    }

    function updateMeters(list) {
        // Volatility: How many flips in last 10?
        let flips = 0;
        for(let i=0; i<9; i++) {
            let curr = parseInt(list[i].number) >= 5;
            let next = parseInt(list[i+1].number) >= 5;
            if(curr !== next) flips++;
        }
        let vol = flips * 11; 
        if(vol > 100) vol = 100;
        document.getElementById('vol-pct').innerText = vol + "%";
        document.getElementById('vol-bar').style.width = vol + "%";
        document.getElementById('vol-val').innerText = vol > 60 ? "HIGH" : "STABLE";

        // Strength: Current streak length
        let streak = 1;
        let type = parseInt(list[0].number) >= 5;
        for(let i=1; i<10; i++) {
            if((parseInt(list[i].number) >= 5) === type) streak++; else break;
        }
        let str = streak * 25;
        if(str > 100) str = 100;
        document.getElementById('str-pct').innerText = str + "%";
        document.getElementById('str-bar').style.width = str + "%";
        document.getElementById('str-val').innerText = str > 70 ? "STRONG" : "NORMAL";
    }

    function updateTerminal(pred, issue) {
        document.getElementById('period-display').innerText = issue.slice(-4);
        const el = document.getElementById('main-signal');
        el.innerText = pred;
        el.className = "main-signal " + pred;
        document.getElementById('algo-status').innerText = "CONFIDENCE HIGH";
    }

    function render() {
        document.getElementById('w-stat').innerText = stats.w;
        document.getElementById('l-stat').innerText = stats.l;
        let t = stats.w + stats.l;
        document.getElementById('acc-stat').innerText = t===0 ? "0%" : Math.round((stats.w/t)*100) + "%";

        const list = document.getElementById('archive-list');
        list.innerHTML = history.map(h => {
            let stHtml = '';
            if(h.status === 'pending') stHtml = `<div class="st-load"><i class="fa-solid fa-spinner fa-spin"></i> CHECKING</div>`;
            else if(h.status === 'win') stHtml = `<span class="res-badge st-win">WIN</span>`;
            else stHtml = `<span class="res-badge st-loss">LOSS</span>`;

            return `
            <div class="h-item">
                <div class="l-1" style="color:#666">#${h.issue.slice(-4)}</div>
                <div class="l-2 ${h.pred}" style="font-weight:900">${h.pred}</div>
                <div class="l-3" style="font-family:'Orbitron'">${h.res}</div>
                <div class="l-4">${stHtml}</div>
            </div>`;
        }).join('');
    }

    function switchTab(tab, el) {
        document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
        document.getElementById('tab-' + tab).classList.add('active');
        document.querySelectorAll('.nav-btn').forEach(n => n.classList.remove('active'));
        el.classList.add('active');
    }

    function setTheme(color) {
        const root = document.documentElement;
        if(color === 'red') root.style.setProperty('--neon', '#ff3e3e');
        else if(color === 'gold') root.style.setProperty('--neon', '#ffd700');
        else if(color === 'cyan') root.style.setProperty('--neon', '#00ffff');
        else if(color === 'purple') root.style.setProperty('--neon', '#bf00ff');
        else if(color === 'blue') root.style.setProperty('--neon', '#0088ff');
        else root.style.setProperty('--neon', '#00ff4c');
    }

    setInterval(() => {
        const s = 60 - new Date().getSeconds();
        document.getElementById('timer').innerText = s.toString().padStart(2, '0');
        if(s === 1) engine();
    }, 1000);
    engine(); render();

</script>
</body>
</html>